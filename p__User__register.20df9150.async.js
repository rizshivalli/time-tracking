(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{COQB:function(M,E,r){M.exports={main:"main___-Nv70",password:"password___3w2Tr",getCaptcha:"getCaptcha___2Nngl",submit:"submit___sQPp7",login:"login___vcq5Y",success:"success___2iWYe",warning:"warning___1xpUE",error:"error___3JNJb","progress-pass":"progress-pass___2GVSm",progress:"progress___2Fjw0"}},nyvo:function(M,E,r){"use strict";r.r(E);var X=r("+L6B"),R=r("2/Rp"),Z=r("Q9mQ"),w=r("diRs"),H=r("5NDa"),_=r("5rEg"),k=r("MXD1"),T=r("CFYs"),U=r("k1fw"),q=r("miYZ"),h=r("tsqr"),p=r("tJVT"),ee=r("y8nQ"),v=r("Vl3Y"),c=r("q1tI"),e=r.n(c),t=r("9kvl"),B=r("55Ip"),L=r("COQB"),n=r.n(L),l=v.a.Item,W={ok:e.a.createElement("div",{className:n.a.success},e.a.createElement(t.a,{id:"userandregister.strength.strong"})),pass:e.a.createElement("div",{className:n.a.warning},e.a.createElement(t.a,{id:"userandregister.strength.medium"})),poor:e.a.createElement("div",{className:n.a.error},e.a.createElement(t.a,{id:"userandregister.strength.short"}))},F={ok:"success",pass:"normal",poor:"exception"},K=function(g){var P=g.submitting,D=g.dispatch,d=g.userAndregister;console.log("\u{1F680} ~ file: index.tsx ~ line 55 ~ userAndregister",d);var i=Object(t.f)(),N=Object(c.useState)(!1),C=Object(p.a)(N,2),O=C[0],A=C[1],j=Object(c.useState)(!1),y=Object(p.a)(j,2),b=y[0],S=y[1],z=!1,V,x=v.a.useForm(),Q=Object(p.a)(x,1),o=Q[0];Object(c.useEffect)(function(){if(!!d){var m=o.getFieldValue("email");if(d.status==="ok")h.default.success("Registration Successfull"),t.d.push({pathname:"/user/register-result",state:{account:m}});else{d.status&&h.default.error(d.status,10);return}return function(){D({type:"userAndregister/reset"})}}},[d]),Object(c.useEffect)(function(){return function(){clearInterval(V)}},[]);var I=function(){var s=o.getFieldValue("password");return s&&s.length>9?"ok":s&&s.length>5?"pass":"poor"},J=function(s){D({type:"userAndregister/submit",payload:Object(U.a)({},s)})},Y=function(s,a){var u=Promise;return a&&a!==o.getFieldValue("password")?u.reject(i.formatMessage({id:"userandregister.password.twice"})):u.resolve()},$=function(s,a){var u=Promise;return a?(O||A(!!a),S(!b),a.length<6?u.reject(""):(a&&z&&o.validateFields(["confirm_password"]),u.resolve())):(A(!!a),u.reject(i.formatMessage({id:"userandregister.password.required"})))},G=function(){var s=o.getFieldValue("password"),a=I();return s&&s.length?e.a.createElement("div",{className:n.a["progress-".concat(a)]},e.a.createElement(T.a,{status:F[a],className:n.a.progress,strokeWidth:6,percent:s.length*10>100?100:s.length*10,showInfo:!1})):null};return e.a.createElement("div",{className:n.a.main},e.a.createElement("h3",null,e.a.createElement(t.a,{id:"userandregister.register.register"})),e.a.createElement(v.a,{form:o,name:"UserRegister",onFinish:J},e.a.createElement(l,{name:"first_name",rules:[{required:!0,message:"First Name required"}]},e.a.createElement(_.a,{size:"large",placeholder:"First Name"})),e.a.createElement(l,{name:"last_name",rules:[{required:!0,message:"Last Name required"}]},e.a.createElement(_.a,{size:"large",placeholder:"Last Name"})),e.a.createElement(l,{name:"organisationName",rules:[{required:!0,message:"Company required"}]},e.a.createElement(_.a,{size:"large",placeholder:"Company"})),e.a.createElement(l,{name:"email",rules:[{required:!0,message:i.formatMessage({id:"userandregister.email.required"})},{type:"email",message:i.formatMessage({id:"userandregister.email.wrong-format"})}]},e.a.createElement(_.a,{size:"large",placeholder:i.formatMessage({id:"userandregister.email.placeholder"})})),e.a.createElement(w.a,{getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},content:O&&e.a.createElement("div",{style:{padding:"4px 0"}},W[I()],G(),e.a.createElement("div",{style:{marginTop:10}},e.a.createElement(t.a,{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:O},e.a.createElement(l,{name:"password",className:o.getFieldValue("password")&&o.getFieldValue("password").length>0&&n.a.password,rules:[{validator:$}]},e.a.createElement(_.a,{size:"large",type:"password",placeholder:i.formatMessage({id:"userandregister.password.placeholder"})}))),e.a.createElement(l,{name:"confirm_password",rules:[{required:!0,message:i.formatMessage({id:"userandregister.confirm-password.required"})},{validator:Y}]},e.a.createElement(_.a,{size:"large",type:"password",placeholder:i.formatMessage({id:"userandregister.confirm-password.placeholder"})})),e.a.createElement(l,null,e.a.createElement(R.a,{size:"large",loading:P,className:n.a.submit,type:"primary",htmlType:"submit"},e.a.createElement(t.a,{id:"userandregister.register.register"})),e.a.createElement(B.a,{className:n.a.login,to:"/user/login"},e.a.createElement(t.a,{id:"userandregister.register.sign-in"})))))};E.default=Object(t.b)(function(f){var g=f.userAndregister,P=f.loading;return{userAndregister:g,submitting:P.effects["userAndregister/submit"]}})(K)}}]);
